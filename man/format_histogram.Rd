% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/format_histogram.R
\name{format_histogram}
\alias{format_histogram}
\title{Format Histogram Data for Waiting List Metrics}
\usage{
format_histogram(
  histogram,
  group_columns = NULL,
  end_date = NULL,
  time_interval = "weeks"
)
}
\arguments{
\item{histogram}{A data frame containing at least an \code{arrival_since} column (as character or Date).}

\item{end_date}{Optional. The reference date to use for the first \code{arrival_before} in each group.
Defaults to the system date.}

\item{group_column}{A character vector specifying the column(s) to group by when generating \code{arrival_before}.}
}
\value{
A data frame with \code{arrival_since} and \code{arrival_before} columns as Dates, and all original columns.
The columns are reordered so that \code{arrival_since} and \code{arrival_before} appear first.
}
\description{
This function formats a histogram data frame by ensuring the presence and correct formatting of
\code{arrival_since} and \code{arrival_before} columns. If \code{arrival_before} does not exist, it is generated
for each group as the previous \code{arrival_since} date (or the end date for the first row in each group).
}
\details{
\itemize{
\item If the \code{arrival_before} column exists, it is converted to Date.
\item If not, for each group (as defined by \code{group_column}), \code{arrival_before} is set to the previous
\code{arrival_since} (or \code{end_date} for the first row), minus one day.
}
}
\examples{
\dontrun{
df <- data.frame(
  group = c("A", "A", "B"),
  arrival_since = c("2023-01-01", "2023-02-01", "2023-01-15")
)
format_histogram(df, group_column = "group")
}

}
